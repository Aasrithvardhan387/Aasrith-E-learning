"use strict";(self.webpackChunkabin=self.webpackChunkabin||[]).push([[838],{97838:function(e,r,a){a.r(r),a.d(r,{default:function(){return w}});var t=a(29439),s=a(72791),l=a(74165),o=a(15861),n=a(26864),i=a(9085),d=a(75743),u=a(79139),c=a(80184),p=function(e){var r=e.editMode,a=e.setEditMode,p=(0,s.useState)(null),m=(0,t.Z)(p,2),f=m[0],b=m[1],x=(0,s.useState)(!1),h=(0,t.Z)(x,2),g=h[0],w=h[1],v=(0,s.useState)(null),y=(0,t.Z)(v,2),k=y[0],N=y[1],j=(0,s.useState)(""),P=(0,t.Z)(j,2),C=P[0],_=P[1],B=(0,s.useState)(!1),q=(0,t.Z)(B,2),Z=q[0],F=q[1],z=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(){var r;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,(0,d.Q)();case 4:r=e.sent,N(null===r||void 0===r?void 0:r.data),w(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),w(!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e;k&&S.setValues({email:k.email||"",firstName:k.firstName||"",lastName:k.lastName||"",mobile:k.mobile||"",qualification:(null===k||void 0===k?void 0:k.qualification)||"",experience:(null===k||void 0===k?void 0:k.experience)||"",skills:(null===k||void 0===k?void 0:k.skills)||"",about:(null===k||void 0===k?void 0:k.about)||""}),_(null!==(e=null===k||void 0===k?void 0:k.profileUrl)&&void 0!==e?e:"")}),[k]),(0,s.useEffect)((function(){z()}),[Z]);var S=(0,n.TA)({initialValues:{email:(null===k||void 0===k?void 0:k.email)||"",firstName:(null===k||void 0===k?void 0:k.firstName)||"",lastName:(null===k||void 0===k?void 0:k.lastName)||"",mobile:(null===k||void 0===k?void 0:k.mobile)||"",qualification:(null===k||void 0===k?void 0:k.qualification)||"",experience:(null===k||void 0===k?void 0:k.experience)||"",skills:(null===k||void 0===k?void 0:k.skills)||"",about:(null===k||void 0===k?void 0:k.about)||""},onSubmit:function(e){I(e)}}),I=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(r){var t,s,o,n,u;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=new FormData,r.profilePic&&s.append("image",r.profilePic),s.append("email",r.email||""),s.append("firstName",r.firstName||""),s.append("lastName",r.lastName||""),s.append("mobile",r.mobile||""),s.append("qualification",r.qualification||""),s.append("experience",r.experience||""),s.append("skills",r.skills||""),e.next=12,(0,d.ck)(s);case 12:o=e.sent,b(null),(n=document.getElementById("file_input"))&&(n.value=""),F(!Z),a(!1),i.Am.success(null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.message,{position:i.Am.POSITION.BOTTOM_RIGHT}),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),F(!Z),i.Am.error(null===e.t0||void 0===e.t0||null===(u=e.t0.data)||void 0===u?void 0:u.message,{position:i.Am.POSITION.BOTTOM_RIGHT});case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(r){return e.apply(this,arguments)}}();return g?(0,c.jsx)("div",{children:"Loading..."}):(0,c.jsxs)("form",{onSubmit:S.handleSubmit,children:[(0,c.jsx)("div",{}),(0,c.jsxs)("div",{className:"p-5 flex ",children:[(0,c.jsx)(u.Avatar,{src:f||C||"../profile.jpg",alt:"avatar",size:"xl"}),(0,c.jsxs)("div",{className:"pl-4",children:[(0,c.jsx)("label",{className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",htmlFor:"file_input",children:"Upload profile photo"}),(0,c.jsx)("input",{className:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400",id:"file_input",onChange:function(e){var r,a=null===(r=e.target.files)||void 0===r?void 0:r[0];if(a){var t=new FileReader;t.onloadend=function(){b(t.result)},t.readAsDataURL(a),S.setFieldValue("profilePic",a)}else b(null),S.setFieldValue("profilePic",null)},type:"file"})]})]}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 md:gap-6",children:[(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:"text",name:"firstName",id:"floating_first_name",value:S.values.firstName,onChange:S.handleChange,disabled:!r,onBlur:S.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),(0,c.jsx)("label",{htmlFor:"floating_first_name",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(S.values.firstName?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"First name"})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:"text",name:"lastName",id:"floating_last_name",value:S.values.lastName,onChange:S.handleChange,onBlur:S.handleBlur,disabled:!r,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),(0,c.jsx)("label",{htmlFor:"floating_last_name",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(S.values.lastName?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Last name"})]})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:"email",name:"email",id:"floating_email",disabled:!r,value:S.values.email,onChange:S.handleChange,onBlur:S.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),(0,c.jsx)("label",{htmlFor:"floating_email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(S.values.email?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Email address"})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:"text",name:"mobile",id:"floating_phone",disabled:!r,value:S.values.mobile,onChange:S.handleChange,onBlur:S.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),(0,c.jsx)("label",{htmlFor:"floating_phone",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(S.values.mobile?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Mobile"})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:"text",name:"qualification",id:"floating_qualification",disabled:!r,value:S.values.qualification,onChange:S.handleChange,onBlur:S.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),(0,c.jsx)("label",{htmlFor:"floating_qualification",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(S.values.qualification?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Qualifications"})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:"text",name:"experience",id:"floating_experience",disabled:!r,value:S.values.experience,onChange:S.handleChange,onBlur:S.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),(0,c.jsx)("label",{htmlFor:"floating_experience",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(S.values.experience?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Experience"})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:"text",name:"skills",id:"floating_skills",disabled:!r,value:S.values.skills,onChange:S.handleChange,onBlur:S.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer",placeholder:" ",required:!0}),(0,c.jsx)("label",{htmlFor:"floating_skills",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(S.values.skills?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Skills"})]}),(0,c.jsx)("div",{className:"relative pt-10 pr-1",children:r&&(0,c.jsx)("button",{type:"submit",className:"text-white absolute bottom-0 right-0  bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Update"})})]})},m=a(19666),f=a(78820),b=function(){var e=(0,s.useState)(!1),r=(0,t.Z)(e,2),a=r[0],u=r[1],p=(0,s.useState)(!1),b=(0,t.Z)(p,2),x=b[0],h=b[1],g=(0,s.useState)(!1),w=(0,t.Z)(g,2),v=w[0],y=w[1],k=function(){var e=(0,o.Z)((0,l.Z)().mark((function e(r){var a,t,s,o;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.Cp)(r);case 3:"success"===(null===(s=e.sent)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.status)&&N.resetForm(),i.Am.success(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message,{position:i.Am.POSITION.BOTTOM_RIGHT}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),i.Am.error(null===e.t0||void 0===e.t0||null===(o=e.t0.data)||void 0===o?void 0:o.message,{position:i.Am.POSITION.BOTTOM_RIGHT});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),N=(0,n.TA)({initialValues:{currentPassword:"",newPassword:"",repeatPassword:""},validationSchema:m.o,onSubmit:function(e){k(e)}}),j=function(e){switch(e){case"currentPassword":u(!a);break;case"newPassword":h(!x);break;case"repeatPassword":y(!v)}},P=function(e){switch(e){case"currentPassword":return a?"text":"password";case"newPassword":return x?"text":"password";case"repeatPassword":return v?"text":"password";default:return"password"}};return(0,c.jsxs)("form",{onSubmit:N.handleSubmit,children:[(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:P("currentPassword"),name:"currentPassword",id:"floating_current_password",value:N.values.currentPassword,onChange:N.handleChange,onBlur:N.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(N.touched.currentPassword&&N.errors.currentPassword?"border-red-500":""),placeholder:" "}),N.touched.currentPassword&&N.errors.currentPassword&&(0,c.jsx)("div",{className:"text-red-500 text-xs mt-1",children:N.errors.currentPassword}),(0,c.jsx)("label",{htmlFor:"floating_email",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(N.values.currentPassword?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Current Password"}),(0,c.jsx)("button",{type:"button",className:"absolute right-0 top-2/4 transform -translate-y-2/4 mr-2 focus:outline-none",onClick:function(){return j("currentPassword")},children:a?(0,c.jsx)(f.I0d,{className:"text-gray-500"}):(0,c.jsx)(f.Zju,{className:"text-gray-500"})})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:P("newPassword"),name:"newPassword",id:"floating_password",value:N.values.newPassword,onChange:N.handleChange,onBlur:N.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(N.touched.newPassword&&N.errors.newPassword?"border-red-500":""),placeholder:" "}),N.touched.newPassword&&N.errors.newPassword&&(0,c.jsx)("div",{className:"text-red-500 text-xs mt-1",children:N.errors.newPassword}),(0,c.jsx)("label",{htmlFor:"floating_password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(N.values.newPassword?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Password"}),(0,c.jsx)("button",{type:"button",className:"absolute right-0 top-2/4 transform -translate-y-2/4 mr-2 focus:outline-none",onClick:function(){return j("newPassword")},children:x?(0,c.jsx)(f.I0d,{className:"text-gray-500"}):(0,c.jsx)(f.Zju,{className:"text-gray-500"})})]}),(0,c.jsxs)("div",{className:"relative z-0 w-full mb-6 group",children:[(0,c.jsx)("input",{type:P("repeatPassword"),name:"repeatPassword",id:"floating_repeat_password",value:N.values.repeatPassword,onChange:N.handleChange,onBlur:N.handleBlur,className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-blue-500 focus:outline-none focus:ring-0 focus:border-blue-600 peer ".concat(N.touched.repeatPassword&&N.errors.repeatPassword?"border-red-500":""),placeholder:" "}),N.touched.repeatPassword&&N.errors.repeatPassword&&(0,c.jsx)("div",{className:"text-red-500 text-xs mt-1",children:N.errors.repeatPassword}),(0,c.jsx)("label",{htmlFor:"floating_repeat_password",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] ".concat(N.values.repeatPassword?"peer-placeholder-shown:scale-100":""," peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6"),children:"Confirm password"}),(0,c.jsx)("button",{type:"button",className:"absolute right-0 top-2/4 transform -translate-y-2/4 mr-2 focus:outline-none",onClick:function(){return j("repeatPassword")},children:v?(0,c.jsx)(f.I0d,{className:"text-gray-500"}):(0,c.jsx)(f.Zju,{className:"text-gray-500"})})]}),(0,c.jsx)("div",{className:"relative pt-14 pr-1",children:(0,c.jsx)("button",{type:"submit",className:"text-white absolute bottom-0 right-0 bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Reset"})})]})},x=a(53071),h=a(59434),g=a(23853),w=function(e){var r=(0,h.I0)(),a=(0,s.useState)(!1),l=(0,t.Z)(a,2),o=l[0],n=l[1];(0,s.useEffect)((function(){r((0,x.F0)())}),[r]);return(0,c.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,c.jsxs)("div",{className:"w-11/12",children:[(0,c.jsx)("div",{children:(0,c.jsx)("div",{className:"pt-5 pb-6 w-full",children:(0,c.jsx)("h2",{className:"text-3xl font-semibold text-customFontColorBlack",children:"Edit profile info"})})}),(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-x-10 h-full pb-20",children:[(0,c.jsxs)("div",{className:"border md:w-7/12 w-full h-full rounded-md bg-white border-gray-300",children:[(0,c.jsxs)("div",{className:"flex justify-between",children:[(0,c.jsx)("h3",{className:"pl-5 pt-5 text-lg text-customFontColorBlack font-semibold",children:"Account Info"}),(0,c.jsx)("div",{children:(0,c.jsx)("button",{className:"p-5",onClick:function(){n(!0)},children:(0,c.jsx)(g.vPQ,{className:"text-customFontColorBlack text-lg"})})})]}),(0,c.jsx)("div",{className:"p-6",children:(0,c.jsx)(p,{editMode:o,setEditMode:n})})]}),(0,c.jsxs)("div",{className:"border my-7 md:mt-0 pt-5 pb-10 md:w-5/12 w-full h-full rounded-md bg-white border-gray-300",children:[(0,c.jsx)("h3",{className:"pl-5 text-lg text-customFontColorBlack font-semibold",children:"Change password"}),(0,c.jsx)("div",{className:"p-6",children:(0,c.jsx)(b,{})})]})]})]})})}},19666:function(e,r,a){a.d(r,{o:function(){return s}});var t=a(8007),s=t.Ry().shape({currentPassword:t.Z_().required("Current password is required"),newPassword:t.Z_().required("New password is required").min(8,"Password must be at least 8 characters"),repeatPassword:t.Z_().required("Confirm password is required").test("password-match","Passwords must match",(function(e){return e===this.parent.newPassword}))})}}]);
//# sourceMappingURL=838.4f8fbba0.chunk.js.map