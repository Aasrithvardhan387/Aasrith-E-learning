"use strict";(self.webpackChunkabin=self.webpackChunkabin||[]).push([[969],{56959:function(e,t,n){n.d(t,{Nw:function(){return x},PS:function(){return f},ch:function(){return p},el:function(){return m}});var s=n(27563),i=n(74165),r=n(15861),o=n(56420),a=n(9478),c=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){var s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(a.Z.API_BASE_URL,"/").concat(t,"/").concat(n));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n,s){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.post("".concat(a.Z.API_BASE_URL,"/").concat(t,"/").concat(n),s);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n,s){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.put("".concat(a.Z.API_BASE_URL,"/").concat(t,"/").concat(n),s);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){var s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(a.Z.API_BASE_URL,"/").concat(t,"/").concat(n));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(e){return c(s.Z.GET_LESSONS_BY_COURSE,e)},x=function(e,t){return l(s.Z.ADD_LESSON,e,t)},f=function(e,t){return u(s.Z.EDIT_LESSON,e,t)},p=function(e){return d(s.Z.GET_LESSONS_BY_ID,e)}},72560:function(e,t,n){n.d(t,{K:function(){return l}});var s=n(27563),i=n(74165),r=n(15861),o=n(56420),a=n(9478),c=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n){var s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("".concat(a.Z.API_BASE_URL,"/").concat(t,"/").concat(n));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(e){return c(s.Z.GET_QUIZZES_BY_LESSON,e)}},97565:function(e,t,n){var s=n(29439),i=n(72791),r=n(79139),o=n(20914),a=n(80184);t.Z=function(e){var t=e.isUploading,n=(0,i.useState)(null),c=(0,s.Z)(n,2),l=(c[0],c[1]),u=(0,i.useState)(t),d=(0,s.Z)(u,2);d[0],d[1];return(0,a.jsx)(i.Fragment,{children:(0,a.jsxs)(r.Dialog,{open:t,size:"sm",handler:function(e){return l(e)},children:[(0,a.jsx)(r.DialogBody,{children:(0,a.jsx)("div",{className:"flex mt-5 justify-center items-center",children:(0,a.jsx)(o.Z,{size:100,color:"gray",loading:t})})}),(0,a.jsx)(r.DialogFooter,{className:"mb-7 flex justify-center font-semibold",children:"Your files are being uploaded. Please wait..."})]})})}},33969:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var s=n(74165),i=n(15861),r=n(29439),o=n(72791),a=n(26864),c=n(9085),l=n(79139),u=n(36036),d=n(97565),m=n(53758),x=n(57689),f=n(80184),p=function(e){var t=e.editQuiz,n=e.setEditQuiz;return(0,f.jsx)(l.Switch,{checked:t,onChange:function(e){var t=e.target.checked;n(t)},label:(0,f.jsxs)("div",{children:[(0,f.jsx)(l.Typography,{color:"blue-gray",className:"font-medium",children:"Edit Quiz?"}),(0,f.jsx)(l.Typography,{variant:"small",color:"gray",className:"font-normal",children:"You'll be able to edit quizzes for the lesson."})]}),containerProps:{className:"-mt-5"}})},g=n(56959),v=n(72560),h={title:"",description:"",about:"",studyMaterials:"",contents:"",duration:"",questions:[{question:"",options:[{option:"",isCorrect:!1}]}]},b=function(){var e=(0,o.useState)(!1),t=(0,r.Z)(e,2),n=t[0],b=t[1],j=(0,o.useState)(null),y=(0,r.Z)(j,2),N=y[0],w=y[1],Z=(0,o.useState)(null),S=(0,r.Z)(Z,2),k=S[0],q=S[1],_=(0,o.useState)(!1),C=(0,r.Z)(_,2),E=C[0],B=C[1],F=(0,x.UO)().lessonId,A=(0,o.useState)(),O=(0,r.Z)(A,2),T=O[0],I=O[1],z=(0,o.useState)([]),D=(0,r.Z)(z,2),L=D[0],P=D[1],R=(0,o.useState)(!1),U=(0,r.Z)(R,2),Q=U[0],M=U[1],G=function(e){var t,n=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;w(n)},Y=function(e){var t,n=(null===(t=e.target.files)||void 0===t?void 0:t[0])||null;q(n)},V=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t,n){var i,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.resetForm,e.prev=1,B(!0),i=new FormData,N&&i.append("media",N,"lessonVideo"),k&&i.append("media",k,"materialFile"),Object.keys(t).forEach((function(e){if("questions"===e){var n=JSON.stringify(t[e]);i.append(e,n)}else i.append(e,t[e])})),e.next=9,(0,g.PS)(null!==F&&void 0!==F?F:"",i);case 9:r=e.sent,B(!1),w(null),q(null),M(!0),c.Am.success(r.message,{position:c.Am.POSITION.BOTTOM_RIGHT}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),B(!1),c.Am.error("Failed to update the  lesson",{position:c.Am.POSITION.BOTTOM_RIGHT});case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.ch)(null!==F&&void 0!==F?F:"");case 3:t=e.sent,I(null===t||void 0===t?void 0:t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Am.error("Something went wrong..");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.K)(null!==F&&void 0!==F?F:"");case 3:n=e.sent,P(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.questions),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c.Am.error("Something went wrong");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){T&&(h.title=T.title,h.description=T.description,h.contents=T.contents.join(" "),h.about=T.about,h.questions=L)}),[T]),(0,o.useEffect)((function(){H(),J()}),[Q]),(0,f.jsxs)("div",{className:"mb-10",children:[(0,f.jsx)("div",{children:(0,f.jsx)("h2",{className:"font-semibold mt-3 mb-2 pt-2  text-xl text-customFontColorBlack",children:"Edit the lesson"})}),(0,f.jsx)("div",{className:" flex-col flex justify-center items-center pb-10 text-customFontColorBlack",children:(0,f.jsxs)("div",{className:"bg-white rounded-lg mx-10 border w-full p-6",children:[(0,f.jsx)(d.Z,{isUploading:E}),(0,f.jsx)(a.J9,{initialValues:h,validationSchema:m.O,enableReinitialize:!0,onSubmit:V,children:function(e){var t=e.values;return(0,f.jsxs)(a.l0,{className:"mt-10 space-y-6",children:[(0,f.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,f.jsxs)("div",{className:"w-1/2",children:[(0,f.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium leading-6 text-gray-900",children:"Title"}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)(a.gN,{id:"title",name:"title",type:"text",autoComplete:"off",required:!0,className:"pl-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.Bc,{name:"title",component:"div",className:"text-red-500 text-sm"})]})]}),(0,f.jsxs)("div",{className:"w-1/2",children:[(0,f.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium leading-6 text-gray-900",children:"Description"}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)(a.gN,{id:"description",name:"description",type:"text",autoComplete:"off",required:!0,className:"pl-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.Bc,{name:"description",component:"div",className:"text-red-500 text-sm"})]})]})]}),(0,f.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,f.jsxs)("div",{className:"w-1/2",children:[(0,f.jsx)("label",{htmlFor:"contents",className:"block text-sm font-medium leading-6 text-gray-900",children:"Contents"}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)(a.gN,{as:"textarea",id:"contents",name:"contents",rows:4,cols:40,className:"pl-2 block w-full max-w-xl rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.Bc,{name:"contents",component:"div",className:"text-red-500 text-sm"})]})]}),(0,f.jsxs)("div",{className:"w-1/2",children:[(0,f.jsx)("label",{htmlFor:"about",className:"block text-sm font-medium leading-6 text-gray-900",children:"About"}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)(a.gN,{as:"textarea",id:"about",name:"about",rows:4,cols:40,className:"pl-2 block w-full max-w-xl rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.Bc,{name:"about",component:"div",className:"text-red-500 text-sm"})]})]})]}),(0,f.jsxs)("div",{className:"flex gap-4 justify-between",children:[(0,f.jsxs)("div",{className:"w-1/2",children:[(0,f.jsx)("label",{htmlFor:"videoFile",className:"block text-sm font-medium leading-6 text-gray-900",children:"Video file"}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)("input",{id:"videoFile",name:"videoFile",type:"file",accept:"video/*",onChange:G,autoComplete:"off",className:"pl-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.Bc,{name:"videoFile",component:"div",className:"text-red-500 text-sm"})]})]}),(0,f.jsxs)("div",{className:"w-1/2",children:[(0,f.jsx)("label",{htmlFor:"studyMaterials",className:"block text-sm font-medium leading-6 text-gray-900",children:"Study materials"}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)("input",{id:"studyMaterials",name:"studyMaterials",type:"file",accept:"application/pdf",onChange:Y,autoComplete:"off",className:"pl-2 block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.Bc,{name:"studyMaterials",component:"div",className:"text-red-500 text-sm"})]})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"flex items-center mb-4",children:(0,f.jsx)(p,{editQuiz:n,setEditQuiz:b})}),n&&(0,f.jsx)("div",{className:"max-w-md pt-10 mx-auto",children:(0,f.jsx)(a.F2,{name:"questions",children:function(e){var n,s=e.push,i=e.remove;return(0,f.jsxs)("div",{children:[null===t||void 0===t||null===(n=t.questions)||void 0===n?void 0:n.map((function(e,n){return(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsxs)("div",{className:"mb-2",children:[(0,f.jsxs)("label",{htmlFor:"questions.".concat(n,".question"),className:"block font-bold mb-1 leading-6 text-gray-900",children:["Question ",n+1]}),(0,f.jsx)(a.gN,{type:"text",id:"questions.".concat(n,".question"),name:"questions.".concat(n,".question"),className:"border border-gray-300 px-3 py-2 rounded-lg w-full  focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.Bc,{name:"questions.".concat(n,".question"),component:"div",className:"text-red-500 text-xs"})]}),(0,f.jsx)(a.F2,{name:"questions.".concat(n,".options"),children:function(e){var s=e.push,i=e.remove;return(0,f.jsxs)("div",{children:[t.questions[n].options.map((function(e,t){return(0,f.jsxs)("div",{className:"mb-2",children:[(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(a.gN,{type:"text",id:"questions.".concat(n,".options.").concat(t,".option"),name:"questions.".concat(n,".options.").concat(t,".option"),className:"border border-gray-300 px-3 py-2 rounded-lg w-full  focus:ring-2 focus:ring-inset focus:ring-indigo-700 focus-visible:outline-none focus-visible:ring-blue-600 sm:text-sm sm:leading-6"}),(0,f.jsx)(a.gN,{type:"checkbox",id:"questions.".concat(n,".options.").concat(t,".isCorrect"),name:"questions.".concat(n,".options.").concat(t,".isCorrect"),className:"ml-2"}),(0,f.jsx)("label",{htmlFor:"questions.".concat(n,".options.").concat(t,".isCorrect"),className:"ml-1",children:"Correct"}),(0,f.jsx)(l.Tooltip,{content:"Delete option",animate:{mount:{scale:1,y:0},unmount:{scale:0,y:25}},children:(0,f.jsx)("button",{type:"button",onClick:function(){return i(t)},className:"text-red-500 ml-2",children:(0,f.jsx)(u.E8z,{size:20})})})]}),(0,f.jsx)(a.Bc,{name:"questions.".concat(n,".options.").concat(t,".option"),component:"div",className:"text-red-500 text-xs"})]},t)})),(0,f.jsx)("button",{type:"button",onClick:function(){return s({option:"",isCorrect:!1})},className:"bg-blue-500 text-white px-4 text-xs py-2 rounded-lg",children:"Add Option"})]})}}),(0,f.jsx)("button",{type:"button",onClick:function(){return i(n)},className:"text-red-500 mt-2 text-xs",children:"Remove Question"}),(0,f.jsx)("hr",{className:"my-4"})]},n)})),(0,f.jsx)("button",{type:"button",onClick:function(){return s({question:"",options:[{option:"",isCorrect:!1}]})},className:"bg-blue-500 text-white px-3 py-2 rounded-md text-xs",children:"Add Question"})]})}})})]}),(0,f.jsx)("div",{className:"flex justify-center",children:(0,f.jsx)(l.Button,{type:"submit",color:"blue",children:"update Lesson"})})]})}})]})})]})}},53758:function(e,t,n){n.d(t,{O:function(){return i}});var s=n(8007),i=s.Ry().shape({title:s.Z_().required("Title is required"),description:s.Z_().required("Description is required"),contents:s.Z_().required("Contents are required"),about:s.Z_().required("about is required")})}}]);
//# sourceMappingURL=969.829e8cfa.chunk.js.map