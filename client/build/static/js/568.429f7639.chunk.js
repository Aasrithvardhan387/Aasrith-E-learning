"use strict";(self.webpackChunkabin=self.webpackChunkabin||[]).push([[568],{86568:function(e,t,a){a.r(t),a.d(t,{default:function(){return U}});var r=a(29439),n=a(72791),s=a(79139),l=a(45987),o=["title","titleId"];var i=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,s=(0,l.Z)(e,o);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{d:"M11.644 1.59a.75.75 0 01.712 0l9.75 5.25a.75.75 0 010 1.32l-9.75 5.25a.75.75 0 01-.712 0l-9.75-5.25a.75.75 0 010-1.32l9.75-5.25z"}),n.createElement("path",{d:"M3.265 10.602l7.668 4.129a2.25 2.25 0 002.134 0l7.668-4.13 1.37.739a.75.75 0 010 1.32l-9.75 5.25a.75.75 0 01-.71 0l-9.75-5.25a.75.75 0 010-1.32l1.37-.738z"}),n.createElement("path",{d:"M10.933 19.231l-7.668-4.13-1.37.739a.75.75 0 000 1.32l9.75 5.25c.221.12.489.12.71 0l9.75-5.25a.75.75 0 000-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 01-2.134-.001z"}))})),c=["title","titleId"];var d=n.forwardRef((function(e,t){var a=e.title,r=e.titleId,s=(0,l.Z)(e,c);return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0021.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 003.065 7.097A9.716 9.716 0 0012 21.75a9.716 9.716 0 006.685-2.653zm-12.54-1.285A7.486 7.486 0 0112 15a7.486 7.486 0 015.855 2.812A8.224 8.224 0 0112 20.25a8.224 8.224 0 01-5.855-2.438zM15.75 9a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z",clipRule:"evenodd"}))})),u=a(74165),m=a(15861),x=a(30077),h=a(9085),p=a(81238),f=a(86587),v=a(9478),g=a(56420),b=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(t,a,r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.patch("".concat(v.Z.API_BASE_URL,"/").concat(t,"/").concat(a),{reason:r});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}(),j=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(t,a){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.patch("".concat(v.Z.API_BASE_URL,"/").concat(t,"/").concat(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(t){var a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.get("".concat(v.Z.API_BASE_URL,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(t){var a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.Z.get("".concat(v.Z.API_BASE_URL,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=a(27563),T=function(e,t){return b(w.Z.BLOCK_STUDENT,e,t)},Z=function(e){return j(w.Z.UNBLOCK_STUDENT,e)},k=a(17250),O=a(80184),A=["Name","Email","Date Joined","Status","Actions",""],I=function(e){var t=e.updated,a=e.setUpdated,l=(0,n.useState)([]),o=(0,r.Z)(l,2),i=o[0],c=o[1],d=(0,f.Z)(i,4),v=d.currentPage,g=d.totalPages,b=d.currentData,j=d.goToPage,y=d.goToPreviousPage,T=d.goToNextPage,I=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(){var t,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(w.Z.GET_BLOCKED_STUDENTS);case 3:t=e.sent,c(null===t||void 0===t?void 0:t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.Am.error(null===e.t0||void 0===e.t0||null===(a=e.t0.data)||void 0===a?void 0:a.message,{position:h.Am.POSITION.BOTTOM_RIGHT});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){I()}),[t]);var B=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(r);case 3:n=e.sent,h.Am.success(null===n||void 0===n?void 0:n.message,{position:h.Am.POSITION.BOTTOM_RIGHT}),a(!t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.Am.error(null===e.t0||void 0===e.t0?void 0:e.t0.message,{position:h.Am.POSITION.BOTTOM_RIGHT});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,O.jsxs)(s.Card,{className:"h-full w-full",children:[(0,O.jsx)(s.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:(0,O.jsxs)("div",{className:"mb-4 flex flex-col justify-between gap-8 md:flex-row md:items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(s.Typography,{variant:"h5",color:"blue-gray",children:"Unblock students"}),(0,O.jsx)(s.Typography,{color:"gray",className:"mt-1 font-normal",children:"These are details about blocked students"})]}),(0,O.jsx)("div",{className:"flex w-full shrink-0 gap-2 md:w-max",children:(0,O.jsx)("div",{className:"w-full md:w-72",children:(0,O.jsx)(s.Input,{label:"Search",icon:(0,O.jsx)(x.Z,{className:"h-5 w-5"})})})})]})}),(0,O.jsx)(s.CardBody,{className:"overflow-scroll px-0",children:(0,O.jsxs)("table",{className:"w-full min-w-max table-auto text-left",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:A.map((function(e){return(0,O.jsx)("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-4",children:(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal leading-none opacity-70",children:e})},e)}))})}),(0,O.jsx)("tbody",{className:"",children:0===b.length?(0,O.jsx)("tr",{className:"p-5",children:(0,O.jsx)(s.Typography,{color:"gray",variant:"h6",className:"mt-1 p-2 font-normal",children:"No blocked students found"})}):b.map((function(e,t){var a=e._id,r=e.profilePic,n=e.profileUrl,l=e.firstName,o=e.lastName,c=e.email,d=e.dateJoined,u=e.isBlocked,m=e.isGoogleUser,x=t===(null===i||void 0===i?void 0:i.length)-1?"p-4":"p-4 border-b border-blue-gray-50";return(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:x,children:(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsx)(s.Avatar,{src:m&&r&&r.url?r.url:n||k.lK,alt:"image",size:"md",className:"border border-blue-gray-50 bg-blue-gray-50/50 object-contain p-1"}),(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-bold",children:"".concat(l," ").concat(o)})]})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:c})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:(0,p.p6)(d)})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)("div",{className:"w-max",children:(0,O.jsx)(s.Chip,{size:"sm",variant:"ghost",value:u?"Blocked":"Active",color:u?"red":"green"})})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)("div",{className:"flex items-center ",children:u?(0,O.jsx)("div",{children:(0,O.jsx)("button",{onClick:function(){B(a)},className:"w-[80px] px-1 py-1.5 text-xs bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg shadow-md transform-gpu transition-transform duration-300 ease-in-out active:scale-95",children:"Unblock"})}):(0,O.jsx)("div",{children:(0,O.jsx)("button",{className:"w-[80px] px-1 py-1.5 text-xs bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg shadow-md transform-gpu transition-transform duration-300 ease-in-out active:scale-95",children:"Block"})})})})]},a)}))})]})}),(0,O.jsxs)(s.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-4",children:[(0,O.jsx)(s.Button,{variant:"outlined",color:"blue-gray",size:"sm",onClick:y,disabled:1===v,children:"Previous"}),(0,O.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:g},(function(e,t){return t+1})).map((function(e){return(0,O.jsx)(s.IconButton,{variant:e===v?"outlined":"text",color:"blue-gray",size:"sm",onClick:function(){return j(e)},children:e},e)}))}),(0,O.jsx)(s.Button,{variant:"outlined",color:"blue-gray",size:"sm",onClick:T,disabled:v===g,children:"Next"})]})]})},B=a(82801),C=a(13532),S=a(99205);function P(e){var t=e.open,a=e.setOpen,s=e.updated,l=e.setUpdated,o=e.id,i=(0,n.useRef)(null),c=(0,n.useState)(""),d=(0,r.Z)(c,2),x=d[0],p=d[1],f=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(t,a){var r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t,a);case 3:r=e.sent,h.Am.success(null===r||void 0===r?void 0:r.message,{position:h.Am.POSITION.BOTTOM_RIGHT}),l(!s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.Am.error(e.t0.data.message,{position:h.Am.POSITION.BOTTOM_RIGHT});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();return(0,O.jsx)(B.u.Root,{show:t,as:n.Fragment,children:(0,O.jsxs)(C.V,{as:"div",className:"relative z-20",initialFocus:i,onClose:a,children:[(0,O.jsx)(B.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,O.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,O.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,O.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,O.jsx)(B.u.Child,{as:n.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,O.jsxs)(C.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg z-50",children:[(0,O.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,O.jsxs)("div",{className:"sm:flex sm:items-start",children:[(0,O.jsx)("div",{className:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:(0,O.jsx)(S.Z,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,O.jsxs)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[(0,O.jsx)(C.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Block Student"}),(0,O.jsxs)("div",{className:"mt-2",children:[(0,O.jsx)("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700",children:"Reason for blocking the Student"}),(0,O.jsxs)("select",{id:"reason",name:"reason",value:x,onChange:function(e){return p(e.target.value)},className:"mt-1 block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,O.jsx)("option",{value:"",children:"Select a reason"}),["posted wrong comments","Violated the rules","others"].map((function(e){return(0,O.jsx)("option",{value:e,children:e},e)}))]})]})]})]})}),(0,O.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,O.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:function(){f(o,x),a(!1)},children:"Block"}),(0,O.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:function(){return a(!1)},ref:i,children:"Cancel"})]})]})})})})]})})}var _=["Name","Email","Date Joined","Status","Actions"],E=function(e){var t=e.updated,a=e.setUpdated,l=(0,n.useState)([]),o=(0,r.Z)(l,2),i=o[0],c=o[1],d=(0,n.useState)(!1),v=(0,r.Z)(d,2),g=v[0],b=v[1],j=(0,n.useState)(""),N=(0,r.Z)(j,2),T=N[0],A=N[1],I=(0,f.Z)(i,4),B=I.currentPage,C=I.totalPages,S=I.currentData,E=I.goToPage,U=I.goToPreviousPage,z=I.goToNextPage,R=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(w.Z.GET_ALL_STUDENTS);case 3:t=e.sent,c(null===t||void 0===t?void 0:t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),h.Am.error(e.t0.data.message,{position:h.Am.POSITION.BOTTOM_RIGHT});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){R()}),[t]);var M=function(){var e=(0,m.Z)((0,u.Z)().mark((function e(r){var n,s,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(r);case 3:s=e.sent,h.Am.success(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message,{position:h.Am.POSITION.BOTTOM_RIGHT}),a(!t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),h.Am.error(null===e.t0||void 0===e.t0||null===(l=e.t0.data)||void 0===l?void 0:l.message,{position:h.Am.POSITION.BOTTOM_RIGHT});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,O.jsxs)(s.Card,{className:"h-full w-full",children:[g&&(0,O.jsx)(P,{open:g,setOpen:b,updated:t,setUpdated:a,id:T}),(0,O.jsx)(s.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:(0,O.jsxs)("div",{className:"mb-4 flex flex-col justify-between gap-8 md:flex-row md:items-center",children:[(0,O.jsxs)("div",{children:[(0,O.jsx)(s.Typography,{variant:"h5",color:"blue-gray",children:"Manage Students"}),(0,O.jsx)(s.Typography,{color:"gray",className:"mt-1 font-normal",children:"These are details about the students"})]}),(0,O.jsx)("div",{className:"flex w-full shrink-0 gap-2 md:w-max",children:(0,O.jsx)("div",{className:"w-full md:w-72",children:(0,O.jsx)(s.Input,{label:"Search",icon:(0,O.jsx)(x.Z,{className:"h-5 w-5"})})})})]})}),(0,O.jsx)(s.CardBody,{className:"overflow-scroll px-0",children:(0,O.jsxs)("table",{className:"w-full min-w-max table-auto text-left",children:[(0,O.jsx)("thead",{children:(0,O.jsx)("tr",{children:_.map((function(e){return(0,O.jsx)("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-4",children:(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal leading-none opacity-70",children:e})},e)}))})}),(0,O.jsx)("tbody",{children:null===S||void 0===S?void 0:S.map((function(e,t){var a=e._id,r=e.firstName,n=e.profileUrl,l=e.profilePic,o=e.isGoogleUser,c=e.lastName,d=e.email,u=e.dateJoined,m=e.isBlocked,x=t===(null===i||void 0===i?void 0:i.length)-1?"p-4":"p-4 border-b border-blue-gray-50";return(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{className:x,children:(0,O.jsxs)("div",{className:"flex items-center gap-3",children:[(0,O.jsx)(s.Avatar,{src:o&&l&&l.url?l.url:n||k.lK,alt:"image",size:"md",className:"border border-blue-gray-50 bg-blue-gray-50/50 object-contain p-1"}),(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-bold",children:"".concat(r," ").concat(c)})]})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:d})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:(0,p.p6)(u)})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)("div",{className:"w-max",children:(0,O.jsx)(s.Chip,{size:"sm",variant:"ghost",value:m?"Blocked":"Active",color:m?"red":"green"})})}),(0,O.jsx)("td",{className:x,children:(0,O.jsx)("div",{className:"flex items-center ",children:m?(0,O.jsx)("div",{children:(0,O.jsx)("button",{onClick:function(){M(a)},className:"w-[80px] px-1 py-1.5 text-xs bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg shadow-md transform-gpu transition-transform duration-300 ease-in-out active:scale-95",children:"Unblock"})}):(0,O.jsx)("div",{children:(0,O.jsx)("button",{onClick:function(){b(!0),A(a)},className:"w-[80px] px-1 py-1.5 text-xs bg-red-500 hover:bg-red-600 text-white font-semibold rounded-lg shadow-md transform-gpu transition-transform duration-300 ease-in-out active:scale-95",children:"Block"})})})})]},a)}))})]})}),(0,O.jsxs)(s.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-4",children:[(0,O.jsx)(s.Button,{variant:"outlined",color:"blue-gray",size:"sm",onClick:U,disabled:1===B,children:"Previous"}),(0,O.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:C},(function(e,t){return t+1})).map((function(e){return(0,O.jsx)(s.IconButton,{variant:e===B?"outlined":"text",color:"blue-gray",size:"sm",onClick:function(){return E(e)},children:e},e)}))}),(0,O.jsx)(s.Button,{variant:"outlined",color:"blue-gray",size:"sm",onClick:z,disabled:B===C,children:"Next"})]})]})};function U(){var e=(0,n.useState)("all"),t=(0,r.Z)(e,2),a=t[0],l=t[1],o=(0,n.useState)(!1),c=(0,r.Z)(o,2),u=c[0],m=c[1],x=[{label:"All students",value:"all",icon:i},{label:"Blocked",value:"blocked",icon:d}],h={all:(0,O.jsx)(E,{updated:u,setUpdated:m}),blocked:(0,O.jsx)(I,{updated:u,setUpdated:m})};return(0,O.jsxs)(s.Tabs,{value:a,onChange:function(e){l(e)},className:"p-0.5",children:[(0,O.jsx)(s.TabsHeader,{className:"ml-3.5 mr-3.5",children:x.map((function(e){var t=e.label,a=e.value,r=e.icon;return(0,O.jsx)(s.Tab,{value:a,children:(0,O.jsxs)("div",{className:"flex items-center  gap-2",children:[(0,O.jsx)(r,{className:"w-5 h-5"}),t]})},a)}))}),(0,O.jsx)(s.TabsBody,{children:x.map((function(e){var t=e.value;return(0,O.jsx)(s.TabPanel,{value:t,className:"pt-5",children:h[t]},t)}))})]})}}}]);
//# sourceMappingURL=568.429f7639.chunk.js.map